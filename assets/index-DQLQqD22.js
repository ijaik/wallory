const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-fmgPJCtX.js","assets/vendor-DnCYt7K8.css"])))=>i.map(i=>d[i]);
import{j as e,L as C,r as n,u as F,N as $,G as Z,a as Q,R as ee,b as z,M as te,c as ae,d as E,S as re,e as oe,f as M,T as se,F as O,g as B,h as ne,i as L,k as le,B as ie}from"./vendor-react-D-jqwpx0.js";import{i as y,A as ce,P as de}from"./vendor-fmgPJCtX.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function ue(){return e.jsx("nav",{className:"relative top-0 left-0 right-0","aria-label":"Main navigation",children:e.jsxs("ul",{className:"flex justify-evenly items-center py-2.5 text-2xl",children:[e.jsx("li",{className:"text-indigo-500 font-['Leckerli_One',_cursive] text-[40px]",children:e.jsx(C,{to:"/",className:"cursor-default sm:cursor-pointer hover:text-indigo-600 transition-colors duration-200","aria-label":"Wallory homepage",children:"W"})}),e.jsx("li",{className:"hover:text-indigo-500",children:e.jsx(C,{to:"/about",className:"cursor-default sm:cursor-pointer hover:text-indigo-500 transition-colors duration-200","aria-label":"About Wallory page",children:"About"})})]})})}const U=n.createContext(),me=({children:r})=>{const[o,t]=n.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});n.useEffect(()=>{o?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},[o]);const d=()=>{t(a=>!a)},s=n.useMemo(()=>({isDarkMode:o,toggleDarkMode:d}),[o]);return e.jsx(U.Provider,{value:s,children:r})};function P(){const r=F(),o=n.useRef(null),{isDarkMode:t,toggleDarkMode:d}=n.useContext(U),[s,a]=n.useState(t?"dark":"light"),[i,m]=n.useState(()=>localStorage.getItem("activeNav")||"home");n.useEffect(()=>{const c=r.pathname,p=c==="/explore"?"explore":c==="/"?"home":null;m(p),localStorage.setItem("activeNav",p||"home")},[r.pathname]),n.useEffect(()=>{let c=window.pageYOffset||document.documentElement.scrollTop,p;const l=()=>{clearTimeout(p),p=setTimeout(()=>{const g=window.pageYOffset||document.documentElement.scrollTop,u=document.querySelector(".bottom-nav");g>c?u.style.transform="translateY(150px)":u.style.transform="translateY(0)",c=g<=0?0:g},100)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l),clearTimeout(p)}},[]),n.useEffect(()=>{if(o.current){const c=o.current;y.set(c,{rotation:0,scale:1,x:0}),y.timeline().to(c,{rotation:t?180:-180,scale:.5,duration:.5,ease:"power2.inOut"}).to(c,{rotation:t?360:-360,scale:1,duration:.5,ease:"back.out(1.5)"},.5)}},[t]);const x=()=>{a(t?"light":"dark"),d()};return e.jsx("nav",{className:"bottom-nav fixed z-30 left-1/2 bottom-[25px] transform -translate-x-1/2 bg-indigo-500 dark:bg-indigo-950 rounded-full transition-all duration-250 ease-linear",children:e.jsxs("ul",{className:"flex justify-evenly items-center",children:[e.jsx("li",{className:"py-[5px] px-[5vw] sm:px-[2.5vw]",children:e.jsx($,{to:"/",className:"cursor-default sm:cursor-pointer",children:i==="home"?e.jsx(Z,{className:"text-[#ffffff] w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"}):e.jsx(Q,{className:"text-[#ffffff] w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"})})}),e.jsx("li",{className:"py-[5px] px-[5vw] sm:px-[2.5vw]",children:e.jsx($,{to:"/explore",className:"cursor-default sm:cursor-pointer",children:i==="explore"?e.jsx(ee,{className:"text-[#ffffff] w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"}):e.jsx(z,{className:"text-[#ffffff] w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"})})}),e.jsx("li",{className:"py-[5px] px-[5vw] sm:px-[2.5vw] transition-all duration-300 ease-in-out relative",onClick:x,children:t?e.jsx(te,{ref:o,className:"text-white w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"}):e.jsx(ae,{ref:o,className:"text-white w-12 h-12 dark:hover:bg-indigo-800 rounded-full px-2 py-2 hover:bg-indigo-400"})})]})})}const ge=({isLoading:r,children:o,className:t=""})=>e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:`absolute inset-0 bg-gray-200 animate-pulse dark:bg-gray-600 ${t}`,"aria-hidden":"true",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-gray-200 dark:from-gray-600 via-gray-300 dark:via-gray-700 to-gray-200 dark:to-gray-600 animate-shimmer"})}),o]}),R=E.memo(ge),Y=r=>({Moone:"Moon",Sonne:"Sunset"})[r]||r,q=(r,o,t=20)=>{const[d,s]=n.useState(()=>{const h=localStorage.getItem(`wallpapers_${r}`);return h?JSON.parse(h):[]}),[a,i]=n.useState(!1),[m,x]=n.useState(null),[c,p]=n.useState(0),l=Y(r),u=["latest","trending","most popular"].includes(l.toLowerCase()),f=["moon","sunset","universe"],b=n.useCallback(async()=>{const h=`wallpapers_${l}`,w=localStorage.getItem(h),k=localStorage.getItem(`${h}_timestamp`),I=1440*60*1e3;if(w&&k&&Date.now()-parseInt(k)<I){s(JSON.parse(w));return}const G=u?f:[l],X=t,K=u&&(l.toLowerCase()==="latest"||l.toLowerCase()==="trending")?"latest":"relevant";let j=[];i(!0),x(null);try{for(const N of G){const T=`https://api.unsplash.com/search/photos?query=${encodeURIComponent(N)}&per_page=${X}&page=1&order_by=${K}&client_id=${o}`,S=await fetch(T);if(!S.ok)throw new Error(`Network error: ${S.statusText}`);const D=await S.json();u?j=[...j,...D.results]:j=D.results.slice(0,t)}if(u){let N=j;switch(l.toLowerCase()){case"latest":N=j.sort((T,S)=>new Date(S.created_at)-new Date(T.created_at));break;case"trending":case"most popular":N=j.sort((T,S)=>S.likes-T.likes);break}j=N.slice(0,t)}localStorage.setItem(h,JSON.stringify(j)),localStorage.setItem(`${h}_timestamp`,Date.now().toString()),s(j)}catch(N){x(N.message)}finally{i(!1)}},[l,o,u,t]);n.useEffect(()=>{b()},[b,c]);const v=n.useCallback(()=>{localStorage.removeItem(`wallpapers_${l}`),localStorage.removeItem(`wallpapers_${l}_timestamp`),p(h=>h+1)},[l]);return{data:d,loading:a,error:m,refetch:v}};function H({mb:r="mb-0",SearchButton:o,showSlogans:t=!1,category:d="aurora"}){const s=["🖼️ Make Your Walls Smile — with Wallory 🎨","🏡 Your Space. Your Mood. Your Wallory 💫","💡 Inspire Every Swipe, Every Wall 🔁","🎶 Design Vibes, Not Just Walls ✨","🧩 Your Walls, Your World — Only on Wallory 💗"],a="pvBinalePSg6PdFToXrDzIKOlzZkN0VfszXtHkbhPJs",{data:i,loading:m}=q(d,a,5),x=i.map(g=>g.urls?.regular).filter(Boolean),[c,p]=n.useState(Array(x.length).fill(!1)),l=g=>{p(u=>{const f=[...u];return f[g]=!0,f})};return e.jsxs("div",{className:`flex justify-center items-center ${r} px-[10px] overflow-hidden h-[350px]`,children:[e.jsx(re,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},modules:[ce,de],className:"mySwiper h-full cursor-grab",children:x.map((g,u)=>e.jsx(oe,{children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(R,{isLoading:!c[u]||m,children:e.jsx("img",{className:`w-full h-full object-cover rounded-2xl brightness-50 transition-opacity duration-300 ${!c[u]||m?"opacity-0":"opacity-100"}`,src:g,alt:`Slide ${u+1}`,loading:"lazy",onLoad:()=>l(u)})}),t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("h2",{className:`font-['Leckerli_One',_cursive] dark:text-white text-2xl md:text-3xl text-center px-4 drop-shadow-lg ${c[u]?"text-white":"text-black"}`,children:s[u]||""})})]})},u))}),o&&e.jsx(o,{})]})}const pe=({photo:r})=>{const o=M(),[t,d]=n.useState(!0),s=()=>{d(!1)},a=()=>{o("/customize",{state:{photo:r}})},i=r.height/r.width*100;return e.jsx("div",{className:"w-full inline-block p-[5px] sm:cursor-pointer group",children:e.jsx("div",{className:"relative",style:{paddingTop:`${i}%`},children:e.jsx(R,{isLoading:t,children:e.jsx("img",{src:r.urls.regular,alt:r.alt_description||`Wallpaper by ${r.user.name}`,className:`absolute inset-0 w-full h-full object-cover rounded-[10px] transition-opacity duration-250 ${t?"opacity-0":"opacity-100"}`,loading:"lazy",onLoad:s,onClick:a})})})})},xe=E.memo(pe),J=E.memo(({category:r})=>{const o="pvBinalePSg6PdFToXrDzIKOlzZkN0VfszXtHkbhPJs",{data:t,loading:d,error:s,refetch:a}=q(r,o);return e.jsxs(e.Fragment,{children:[d&&t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-black",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-300",children:"Loading wallpapers..."})]}):s?e.jsxs("div",{className:"text-center text-red-500 dark:text-red-400 py-6",children:[e.jsx("p",{children:s}),e.jsx("button",{onClick:a,className:"mt-4 bg-indigo-500 text-white px-4 py-2 rounded-full hover:bg-indigo-600",children:"Retry"})]}):e.jsx("div",{className:"columns-1 gap-x-[0px] gap-y-[0px] p-[5px] w-full sm:columns-2 md:columns-3 lg:columns-4",children:t.length>0?t.map(i=>e.jsx(xe,{photo:i},i.id)):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300 w-full",children:"No wallpapers found."})}),e.jsx("hr",{})]})}),fe=({categories:r=[{name:"Latest",emoji:"✨"},{name:"Trending",emoji:"🔥"},{name:"Most Popular",emoji:"🏆"}],storageKey:o="wallpapers"})=>{const[t,d]=n.useState(()=>{const a=localStorage.getItem(`${o}_activeCategory`);return a&&r.some(i=>i.name===a)?a:r[0].name});n.useEffect(()=>{localStorage.setItem(`${o}_activeCategory`,t)},[t,o]);const s=n.useCallback(a=>{d(a)},[]);return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"sticky top-0 left-0 right-0 z-10 p-2.5 dark:bg-black bg-white",children:e.jsx("div",{className:"flex items-center justify-evenly overflow-x-auto [&::-webkit-scrollbar]:hidden",children:r.map(({name:a,emoji:i})=>e.jsxs("button",{className:`
                flex items-center gap-[5px] p-2.5 m-1.25 rounded-full transition-all duration-250 ease-linear
                sm:cursor-pointer hover:scale-105 text-nowrap text-center
                ${t===a?"bg-indigo-500 text-white scale-105":"text-black dark:text-white hover:text-indigo-500 dark:hover:text-indigo-400"}
              `,onClick:()=>s(a),"aria-current":t===a?"true":"false","aria-label":`Switch to ${a} category`,children:[e.jsx("span",{children:i}),e.jsx("span",{className:"font-['Leckerli_One',_cursive]",children:a})]},a))})}),e.jsx(J,{category:t})]})};function _(){return e.jsxs("footer",{className:"text-center flex flex-col items-center justify-center pt-2.5 pb-2.5 text-black gap-y-[5px] overflow-hidden dark:text-white","aria-label":"Wallory footer",children:[e.jsxs("p",{className:"text-[20px]",children:["Made With"," ",e.jsx("span",{className:"animate-pulse text-pink-500 inline-block transition-all duration-500 ease-out hover:scale-150",children:"💗"})," ","By Jai"]}),e.jsx("p",{className:"text-[25px] text-indigo-500 font-['Leckerli_One',_cursive]",children:"Wallory"})]})}function he(){const r=n.useRef(null),o=n.useRef(null);return n.useEffect(()=>{y.fromTo(r.current,{opacity:0,y:-50},{opacity:1,y:0,duration:1,ease:"power2.out"}),y.fromTo(o.current,{opacity:0,x:-100},{opacity:1,x:0,duration:1,ease:"power2.out",delay:.3})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("header",{ref:r,className:"flex flex-col justify-center",children:[e.jsx(ue,{}),e.jsx(H,{showSlogans:!0})]}),e.jsx("main",{ref:o,children:e.jsx(fe,{storageKey:"home_wallpapers"})}),e.jsx(P,{}),e.jsx(_,{})]})}function ye(){return n.useEffect(()=>{y.timeline().fromTo([".about-title",".about-description"],{opacity:0,y:20},{opacity:1,y:0,duration:.8,ease:"power2.out",stagger:.2}).fromTo(".unsplash-credit",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").fromTo(".action-buttons",{opacity:0,scale:.9},{opacity:1,scale:1,duration:.5,ease:"back.out(1.2)"},"-=0.4")},[]),e.jsxs(e.Fragment,{children:[e.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-indigo-50 to-white px-4 py-16 sm:py-24 lg:px-12 dark:from-gray-900 dark:to-black transition-colors duration-300",children:e.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[e.jsx("h1",{className:"about-title text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl lg:text-7xl dark:text-white",children:"About Wallory"}),e.jsx("p",{className:"about-description mt-6 text-lg font-medium text-gray-600 sm:text-xl/8 dark:text-gray-300",children:"Wallory is your ultimate destination for discovering breathtaking wallpapers from Unsplash. Browse diverse categories, search for themes that inspire you, and customize your devices effortlessly with high-quality images."}),e.jsx("div",{className:"unsplash-credit mt-8 text-sm text-gray-500 dark:text-gray-400",children:e.jsxs("p",{children:["Powered by"," ",e.jsx("a",{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline dark:text-indigo-400","aria-label":"Visit Unsplash website",children:"Unsplash"}),", the world’s leading platform for free, high-resolution photos."]})}),e.jsxs("div",{className:"action-buttons mt-10 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6",children:[e.jsx(C,{to:"/",className:"rounded-md bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Return to homepage",children:"Back to Home"}),e.jsx(C,{to:"/explore",className:"rounded-md border border-indigo-600 px-4 py-2.5 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-indigo-400 dark:text-indigo-400 dark:hover:bg-gray-800 dark:hover:text-indigo-300 transition-all duration-200","aria-label":"Explore wallpaper collection",children:"Explore Wallpapers"})]})]})}),e.jsx(_,{})]})}function be({image:r,title:o,onClick:t}){const[d,s]=n.useState(!0),a=()=>{s(!1)};return e.jsxs("div",{onClick:t,className:"m-2.5 grow shrink basis-[250px] flex justify-center items-center relative w-[500px] h-[250px] rounded-[10px] overflow-hidden sm:cursor-pointer",children:[e.jsxs(R,{isLoading:d,children:[d&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse dark:bg-gray-600",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-gray-200 dark:from-gray-600 via-gray-300 dark:via-gray-700 to-gray-200 dark:to-gray-600 animate-shimmer"})}),e.jsx("img",{className:`w-full h-full object-cover rounded brightness-50 absolute object-center ${d?"opacity-0":"opacity-100"} transition-opacity duration-300`,src:r,alt:o,onLoad:a})]}),e.jsx("h1",{className:`absolute z-10 text-[31.25px] font-['Leckerli_One',_cursive] dark:text-white ${d?"text-black":"text-white"}`,children:o})]})}const we=E.memo(be);function ve(){const[r,o]=n.useState(null),t=n.useRef(null),d=n.useRef(null),s=n.useRef(null),a=n.useRef(!1),i=[{title:"Abstract",image:"https://i.pinimg.com/736x/4a/10/9b/4a109be9a36688e819dc032d4311954e.jpg"},{title:"Animals",image:"https://i.pinimg.com/736x/50/36/01/503601502d70735740570308e99e9b96.jpg"},{title:"Anime",image:"https://i.pinimg.com/736x/67/ea/96/67ea96c307e0e41fa9da96c414032285.jpg"},{title:"Art",image:"https://i.pinimg.com/736x/06/27/c3/0627c36ceac5abbed870c7ae46779c61.jpg"},{title:"Captured",image:"https://i.pinimg.com/736x/a3/bd/99/a3bd99ff636a9cd1c51b07c65f1aae60.jpg"},{title:"Classic",image:"https://i.pinimg.com/736x/f2/a1/f5/f2a1f5a00ceefc664add2f820689bf57.jpg"},{title:"Clouds",image:"https://i.pinimg.com/736x/4a/58/ce/4a58ce664918acb5f443697b5204c36e.jpg"},{title:"Flowers",image:"https://i.pinimg.com/736x/2c/48/eb/2c48eb09c8ce474b29c0487e7a9eecdc.jpg"},{title:"Games",image:"https://i.pinimg.com/736x/b9/85/d8/b985d84b46764e10a8b2f9b081760d54.jpg"},{title:"Moone",image:"https://i.pinimg.com/736x/0f/b5/51/0fb551c005d31e7356e259efe33edddd.jpg"},{title:"Music",image:"https://i.pinimg.com/736x/e4/f8/4b/e4f84b1f324fd2bea7be0edbb6800e40.jpg"},{title:"Nature",image:"https://i.pinimg.com/736x/fe/0b/41/fe0b412e65b930b8c9b71a77eda87904.jpg"},{title:"Places",image:"https://i.pinimg.com/736x/21/4b/73/214b736d289c1e6033915cd12110cace.jpg"},{title:"Sonne",image:"https://i.pinimg.com/736x/95/b7/6e/95b76e8f39ec81ef22d90bdf509ec350.jpg"},{title:"Sports",image:"https://i.pinimg.com/736x/1f/a0/12/1fa012aacbe5040384b1f6a7e46cc2b4.jpg"},{title:"Travel",image:"https://i.pinimg.com/736x/77/b4/21/77b421686d6088e6527cf57d68c69e96.jpg"},{title:"Universe",image:"https://i.pinimg.com/736x/10/7f/e0/107fe0d91a7011065f4353926ea983ab.jpg"},{title:"Vehicles",image:"https://i.pinimg.com/736x/09/73/c8/0973c8a0f497717e720e2d7c68ef012a.jpg"}];function m({setSelectedCategory:x}){const[c,p]=n.useState(""),l=g=>{g.preventDefault(),c.trim()&&x(Y(c.trim()))};return e.jsxs("form",{name:"Search",ref:d,onSubmit:l,className:"absolute z-20 flex p-1.25 rounded-full border border-white overflow-hidden w-[80vw] sm:w-[50vw] text-white",children:[e.jsx("input",{type:"text",name:"searchInput",placeholder:"Search Your Wallory",value:c,onChange:g=>p(g.target.value),className:"w-full outline-none pl-5 placeholder:text-white"}),e.jsx("button",{type:"submit",className:"flex items-center justify-center p-2.5 rounded-full bg-indigo-500 hover:bg-indigo-400 dark:bg-indigo-950 dark:hover:bg-indigo-800 active:scale-90","aria-label":"Submit Search",children:e.jsx(z,{className:"text-white w-7.5 h-7.5"})})]})}return n.useEffect(()=>{if(!a.current){if(y.fromTo(s.current,{opacity:0,y:-50},{opacity:1,y:0,duration:.8,ease:"power2.out"}),y.fromTo(d.current,{opacity:0,scale:.8},{opacity:1,scale:1,duration:.6,ease:"power2.out",delay:.2}),t.current&&!r){const x=t.current.children;y.fromTo(x,{opacity:0,y:50},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out",delay:.4})}a.current=!0}},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:s,className:"flex flex-col items-center justify-center mt-10 text-center",children:[e.jsx("h2",{className:"text-3xl mb-5",children:"Explore Wallpapers"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-10",children:"Discover a variety of stunning wallpapers to personalize your device."})]}),e.jsx(H,{mb:"mb-2.5",SearchButton:()=>e.jsx(m,{setSelectedCategory:o})}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-black flex justify-center items-center p-2.5 z-20",children:[e.jsx("button",{onClick:()=>o(null),className:"flex items-center justify-center text-2xl p-2.5 bg-indigo-500 text-white rounded-md hover:bg-indigo-600",children:e.jsx(se,{})}),e.jsx("h1",{className:"grow text-center text-[31.25px] text-indigo-500 font-['Leckerli_One',_cursive]",children:r})]}),e.jsx(J,{category:r})]}):e.jsx("div",{ref:t,className:"flex justify-evenly items-center flex-wrap mt-5 mb-5",children:i.map((x,c)=>e.jsx(we,{title:x.title,image:x.image,onClick:()=>o(x.title)},c))}),e.jsx(P,{}),e.jsx(_,{})]})}const je=()=>{const r=M(),o=F(),[t,d]=n.useState(null),[s,a]=n.useState("none"),[i,m]=n.useState(!1),[x,c]=n.useState(null),p=[{name:"None",value:"none"},{name:"Grayscale",value:"grayscale(100%)"},{name:"Sepia",value:"sepia(100%)"},{name:"Bright",value:"brightness(150%)"},{name:"Contrast",value:"contrast(150%)"},{name:"Saturate",value:"saturate(150%)"},{name:"Hue Rotate",value:"hue-rotate(90deg)"}];n.useEffect(()=>{o.state?.photo?d(o.state.photo):(c("No photo selected. Redirecting to Explore..."),setTimeout(()=>r("/explore"),2e3))},[o.state,r]),n.useEffect(()=>{const u=y.context(()=>{y.fromTo(".customize-container",{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power2.out"}),y.fromTo(".canvas-area",{opacity:0,scale:.95},{opacity:1,scale:1,duration:.8,ease:"power2.out",delay:.2})});return()=>u.revert()},[]);const l=n.useCallback(async(u=!1)=>{if(!i||!t){c("Image not loaded. Please try again.");return}try{const f=new Image;f.src=t.urls.regular,f.crossOrigin="anonymous",await new Promise((k,I)=>{f.onload=k,f.onerror=()=>I(new Error("Failed to load image."))});const b=document.createElement("canvas"),v=b.getContext("2d",{willReadFrequently:!0});b.width=f.width,b.height=f.height,v.drawImage(f,0,0),u&&s!=="none"&&(v.filter=s,v.drawImage(f,0,0));const h=b.toDataURL("image/jpeg",.9),w=document.createElement("a");w.href=h,w.download=`wallory-${u?"customized-":""}${t.id||"image"}`,w.click(),w.remove()}catch{c(`Failed to download ${u?"customized":"original"} image.`)}},[i,t,s]),g=async()=>{if(!i||!t?.id){c("Image not loaded or invalid.");return}try{const u=await fetch(`https://api.unsplash.com/photos/${t.id}/download?client_id=pvBinalePSg6PdFToXrDzIKOlzZkN0VfszXtHkbhPJs`);if(!u.ok)throw new Error("API request failed.");const{url:f}=await u.json(),b=await fetch(f);if(!b.ok)throw new Error("Image download failed.");const v=await b.blob(),h=document.createElement("a");h.href=URL.createObjectURL(v),h.download=`${t.alt_description||t.id}`,h.click(),h.remove(),URL.revokeObjectURL(h.href)}catch{c("Failed to download original image.")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-black text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[e.jsx("header",{className:"p-6 text-center",children:e.jsx("h1",{className:"text-3xl font-['Leckerli_One',_cursive] text-indigo-600 dark:text-indigo-400 drop-shadow-md",children:"Customization Studio"})}),x&&e.jsxs("div",{className:"mx-6 mb-4 p-4 bg-red-50 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-xl shadow-md flex items-center gap-2 animate-fade-in",role:"alert",children:[e.jsx(O,{className:"text-lg"}),x]}),e.jsxs("main",{className:"p-6 flex flex-col md:flex-row gap-6 items-center justify-center",children:[e.jsxs("div",{className:"canvas-area bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden",children:[t?e.jsx("img",{src:t.urls.regular,alt:t.alt_description||"Selected wallpaper",className:"w-full h-full md:h-[70vh] transition-all duration-300",style:{filter:s},onLoad:()=>m(!0),crossOrigin:"anonymous"}):e.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-gray-200 dark:from-gray-700 via-gray-300 dark:via-gray-600 to-gray-200 dark:to-gray-700 animate-shimmer"})}),t&&e.jsxs("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 p-4",children:["Photo by"," ",e.jsx("a",{href:`${t.user.links.html}?utm_source=Wallory&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:t.user.name})," ","on"," ",e.jsx("a",{href:"https://unsplash.com?utm_source=Wallory&utm_medium=referral",target:"_blank",className:"underline hover:text-indigo-600 dark:hover:text-indigo-400",children:"Unsplash"})]})]}),e.jsxs("div",{className:"customize-container w-full md:w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2.5",children:["Customize",e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",title:"Apply filters to your wallpaper",children:e.jsx(O,{})})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx("label",{htmlFor:"imageFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Image Filter"}),e.jsx("select",{id:"imageFilter",value:s,onChange:u=>a(u.target.value),className:"w-full p-2 rounded-lg outline-none border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400",children:p.map(u=>e.jsx("option",{value:u.value,children:u.name},u.value))})]}),e.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>l(!0),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-all",disabled:!i,children:"Download Customized"}),e.jsx("button",{onClick:g,className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-all",disabled:!i,children:"Download Original"})]})]})]})]}),e.jsx(P,{}),e.jsx(_,{})]})},ke=E.memo(je);function Ne(){return n.useEffect(()=>{y.timeline().fromTo(".error-code",{opacity:0,scale:.8},{opacity:1,scale:1,duration:.8,ease:"back.out(1.4)"}).fromTo(".error-title",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").fromTo(".error-message",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").fromTo(".action-buttons",{opacity:0,scale:.9},{opacity:1,scale:1,duration:.5,ease:"back.out(1.2)"},"-=0.4")},[]),e.jsx("main",{className:"grid h-screen place-items-center bg-gradient-to-b from-indigo-50 to-white px-4 py-16 sm:py-24 lg:px-12 dark:from-gray-900 dark:to-black transition-colors duration-300",children:e.jsxs("div",{className:"text-center max-w-3xl mx-auto",role:"alert","aria-labelledby":"error-title",children:[e.jsx("p",{className:"error-code text-6xl font-bold text-indigo-600 dark:text-indigo-400 sm:text-8xl",children:"404"}),e.jsx("h1",{id:"error-title",className:"error-title mt-4 text-4xl font-semibold tracking-tight text-balance text-gray-900 sm:text-6xl lg:text-7xl dark:text-white",children:"Oops! Page Not Found"}),e.jsx("p",{className:"error-message mt-6 text-lg font-medium text-pretty text-gray-600 sm:text-xl/8 dark:text-gray-300",children:"Looks like this page got lost in the wallpaper wilderness. Let’s get you back to finding stunning visuals!"}),e.jsxs("div",{className:"action-buttons mt-10 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6",children:[e.jsx(C,{to:"/",className:"rounded-md bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Return to homepage",children:"Go Back Home"}),e.jsx(C,{to:"/explore",className:"rounded-md border border-indigo-600 px-4 py-2.5 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-indigo-400 dark:text-indigo-400 dark:hover:bg-gray-800 dark:hover:text-indigo-300 transition-all duration-200","aria-label":"Explore wallpaper collection",children:"Explore Wallpapers"})]})]})})}function Se({onComplete:r}){const o=n.useRef(null);return B(()=>{y.timeline({onComplete:()=>{r()}}).from(".title span",{x:d=>d%2===0?-100:100,opacity:0,duration:.8,stagger:.1,ease:"power2.out"}).to(".title span",{opacity:0,duration:.6,delay:.5,ease:"power2.in"}).fromTo(".tagline",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=1").to(".tagline",{opacity:0,duration:.6,ease:"power2.in"},"-=0.2")},{scope:o}),e.jsxs("div",{ref:o,className:"w-full h-screen fixed bg-gradient-to-b from-indigo-50 to-white dark:from-gray-900 dark:to-black flex flex-col justify-center items-center transition-colors duration-300",role:"region","aria-label":"Wallory introduction animation",children:[e.jsx("div",{className:"title flex justify-center items-center space-x-1 sm:space-x-2",children:["W","a","l","l","o","r","y"].map((t,d)=>e.jsx("span",{style:{willChange:"transform, opacity"},className:"font-['Leckerli_One',_cursive] text-4xl sm:text-6xl lg:text-8xl text-indigo-600 dark:text-indigo-400",children:t},d))}),e.jsx("p",{className:"tagline mt-5 mr-2.5 ml-2.5 text-lg sm:text-xl font-medium text-gray-600 dark:text-gray-300 max-w-md text-center",children:"Discover stunning wallpapers to personalize your world."})]})}function W({type:r,handleCloseToast:o,deferredPrompt:t,handleInstallClick:d}){const s=n.useRef(null);return B(()=>{s.current&&y.from(s.current,{right:-10,opacity:0,duration:1,delay:1,ease:"power2.out"})},{scope:s}),e.jsx("div",{ref:s,className:"fixed top-[82px] right-5 left-5 sm:left-auto transition-transform duration-250 ease-out z-50",onClick:o,children:e.jsxs("div",{id:"toast-default",className:"flex justify-between items-center p-4 text-gray-700 bg-white border border-gray-200 rounded-xl shadow-lg dark:text-gray-200 dark:bg-gray-900 dark:bg-opacity-95 dark:border-gray-700 transition-all duration-250 ease-out",role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:a=>a.stopPropagation(),children:[r==="download"?e.jsx("div",{className:"font-['Leckerli_One',_cursive] text-center mr-2",children:"🖼️ Tap the wallpaper to customize or download it!"}):e.jsxs("div",{className:"font-['Leckerli_One',_cursive] text-center mr-2",children:["🚀 Install ",e.jsx("strong",{children:"Wallory"})," for the best experience!"]}),r==="install"&&t&&e.jsx("button",{onClick:d,className:"bg-indigo-500 text-white hover:bg-indigo-600 text-nowrap px-3 py-1.5 rounded-full transition-colors duration-250 ease-out","aria-label":"Install Wallory App",children:"Install App"}),e.jsxs("button",{type:"button",className:"ml-2 p-2 rounded-full text-gray-500 hover:text-black hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700 transition-colors duration-200 ease-out active:bg-gray-400 dark:active:bg-gray-400",onClick:o,"aria-label":"Close toast notification",children:[e.jsx("span",{className:"sr-only",children:"Close notification"}),e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2 2l12 12M14 2L2 14"})})]})]})})}const V=n.createContext();function Ie({children:r}){const[o,t]=n.useState(!1),[d,s]=n.useState(!1),[a,i]=n.useState(null),[m,x]=n.useState(!1);n.useEffect(()=>{const f=()=>window.matchMedia("(display-mode: standalone)").matches||navigator.standalone||window.navigator.userAgent.includes("MobileApp");x(f());const b=localStorage.getItem("hasClosedDownloadToast"),v=localStorage.getItem("hasClosedInstallToast");localStorage.getItem("hasSeenIntro")&&(b?!v&&!f()&&s(!0):t(!0));const w=I=>{I.preventDefault(),f()||(i(I),localStorage.setItem("isInstallable","true"))},k=()=>{x(!0),i(null),localStorage.setItem("isInstallable","false"),s(!1)};return window.addEventListener("beforeinstallprompt",w),window.addEventListener("appinstalled",k),()=>{window.removeEventListener("beforeinstallprompt",w),window.removeEventListener("appinstalled",k)}},[]);const c=n.useCallback(()=>{localStorage.setItem("hasClosedDownloadToast","true"),t(!1),!localStorage.getItem("hasClosedInstallToast")&&!m&&s(!0)},[m]),p=n.useCallback(()=>{localStorage.setItem("hasClosedInstallToast","true"),s(!1)},[]),l=n.useCallback(async()=>{if(a&&typeof a.prompt=="function"){a.prompt();const{outcome:f}=await a.userChoice;console.log(f==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),i(null),localStorage.setItem("isInstallable","false"),s(!1)}},[a]),g=n.useCallback(()=>{localStorage.getItem("hasClosedDownloadToast")?!localStorage.getItem("hasClosedInstallToast")&&!m&&s(!0):t(!0)},[m]),u=n.useMemo(()=>({showDownloadToast:o,showInstallToast:d,deferredPrompt:a,isInstalled:m,handleCloseDownloadToast:c,handleCloseInstallToast:p,handleInstallClick:l,triggerToastsAfterIntro:g}),[o,d,a,m,c,p,l,g]);return e.jsx(V.Provider,{value:u,children:r})}function Ce(){const r=n.useContext(V);if(!r)throw new Error("useToast must be used within a ToastProvider");return r}function Te(){const[r,o]=n.useState(!1),{showDownloadToast:t,showInstallToast:d,deferredPrompt:s,isInstalled:a,handleCloseDownloadToast:i,handleCloseInstallToast:m,handleInstallClick:x,triggerToastsAfterIntro:c}=Ce();n.useEffect(()=>{localStorage.getItem("hasSeenIntro")||o(!0)},[]);const p=()=>{localStorage.setItem("hasSeenIntro","true"),o(!1),c()};return e.jsxs(e.Fragment,{children:[t&&e.jsx(W,{type:"download",handleCloseToast:i}),d&&!a&&e.jsx(W,{type:"install",handleCloseToast:m,deferredPrompt:s,handleInstallClick:x}),r?e.jsx(Se,{onComplete:p}):e.jsxs(ne,{children:[e.jsx(L,{path:"/",element:e.jsx(he,{})}),e.jsx(L,{path:"/about",element:e.jsx(ye,{})}),e.jsx(L,{path:"/explore",element:e.jsx(ve,{})}),e.jsx(L,{path:"/customize",element:e.jsx(ke,{})}),e.jsx(L,{path:"*",element:e.jsx(Ne,{})})]})]})}function Le(){return e.jsx(Ie,{children:e.jsx(Te,{})})}const Ee="modulepreload",_e=function(r){return"/"+r},A={},Pe=function(o,t,d){let s=Promise.resolve();if(t&&t.length>0){let x=function(c){return Promise.all(c.map(p=>Promise.resolve(p).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),m=i?.nonce||i?.getAttribute("nonce");s=x(t.map(c=>{if(c=_e(c),c in A)return;A[c]=!0;const p=c.endsWith(".css"),l=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Ee,p||(g.as="script"),g.crossOrigin="",g.href=c,m&&g.setAttribute("nonce",m),document.head.appendChild(g),p)return new Promise((u,f)=>{g.addEventListener("load",u),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=i,window.dispatchEvent(m),!m.defaultPrevented)throw i}return s.then(i=>{for(const m of i||[])m.status==="rejected"&&a(m.reason);return o().catch(a)})};function Re(r={}){const{immediate:o=!1,onNeedRefresh:t,onOfflineReady:d,onRegistered:s,onRegisteredSW:a,onRegisterError:i}=r;let m,x;const c=async(l=!0)=>{await x};async function p(){if("serviceWorker"in navigator){if(m=await Pe(async()=>{const{Workbox:l}=await import("./vendor-fmgPJCtX.js").then(g=>g.j);return{Workbox:l}},__vite__mapDeps([0,1])).then(({Workbox:l})=>new l("/sw.js",{scope:"/",type:"classic"})).catch(l=>{i?.(l)}),!m)return;m.addEventListener("activated",l=>{(l.isUpdate||l.isExternal)&&window.location.reload()}),m.addEventListener("installed",l=>{l.isUpdate||d?.()}),m.register({immediate:o}).then(l=>{a?a("/sw.js",l):s?.(l)}).catch(l=>{i?.(l)})}}return x=p(),c}le.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(me,{children:e.jsx(ie,{children:e.jsx(Le,{})})})}));Re({immediate:!0});
